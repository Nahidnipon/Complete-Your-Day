<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Minimal Profile Header</title>
  <!-- Import Roboto font for a Google-like feel -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap">
  <style>
    :root {
      --primary-color: #1a73e8;
      --background-color: #ffffff;
      --text-color: #202124;
      --secondary-text-color: #5f6368;
      --border-color: #dadce0;
      --highlight-bg: #e8f0fe;
      --shadow: 0 1px 3px rgba(60,64,67,0.3);
    }
    
    * {
      box-sizing: border-box;
    }
    
    body {
      margin: 0;
      font-family: 'Roboto', sans-serif;
      background-color: #f1f3f4;
      color: var(--text-color);
    }
    
    header {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      align-items: center;
      padding: 16px 24px;
      background-color: var(--background-color);
      border-bottom: 1px solid var(--border-color);
      box-shadow: var(--shadow);
    }
    
    .profile-section {
      display: flex;
      align-items: center;
      gap: 16px;
      flex: 1;
      min-width: 280px;
    }
    
    .profile-image-container {
      position: relative;
      width: 64px;
      height: 64px;
    }
    
    .profile-image {
      width: 100%;
      height: 100%;
      border-radius: 50%;
      object-fit: cover;
      border: 2px solid var(--primary-color);
    }
    
    /* Subtle edit icon, appears on hover */
    .edit-overlay-btn {
      position: absolute;
      bottom: 4px;
      right: 4px;
      background: rgba(0, 0, 0, 0.6);
      border: none;
      border-radius: 50%;
      padding: 4px;
      cursor: pointer;
      opacity: 0;
      transition: opacity 0.3s;
    }
    .profile-image-container:hover .edit-overlay-btn {
      opacity: 1;
    }
    .edit-overlay-btn svg {
      width: 14px;
      height: 14px;
      fill: #fff;
    }
    
    .profile-info {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }
    
    .profile-info h1 {
      margin: 0;
      font-size: 1.25rem;
      font-weight: 500;
    }
    
    .profile-info p {
      margin: 0;
      font-size: 0.9rem;
      color: var(--secondary-text-color);
    }
    
    /* Links container */
    .profile-links {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
    }
    
    .profile-links a {
      text-decoration: none;
      color: var(--primary-color);
      font-size: 0.9rem;
      border-bottom: 2px solid transparent;
      transition: border-bottom 0.2s ease;
    }
    
    .profile-links a:hover {
      border-bottom: 2px solid var(--primary-color);
    }
    
    .date-section {
      text-align: right;
      min-width: 220px;
    }
    
    .today-prefix {
      display: inline-block;
      padding: 4px 8px;
      background-color: var(--highlight-bg);
      border-radius: 16px;
      font-weight: 500;
      margin-bottom: 4px;
    }
    
    .current-date {
      display: block;
      font-size: 1rem;
      font-weight: 500;
      margin-bottom: 8px;
    }
    
    .city-times {
      font-size: 0.9rem;
      display: flex;
      flex-direction: column;
      gap: 2px;
    }
    
    /* Modal Styles */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(60,64,67,0.5);
      display: none;
      justify-content: center;
      align-items: center;
      padding: 16px;
      z-index: 1000;
    }
    .modal {
      background: var(--background-color);
      padding: 24px;
      border-radius: 8px;
      width: 100%;
      max-width: 400px;
      box-shadow: 0 4px 6px rgba(60,64,67,0.3);
      max-height: 90vh;
      overflow-y: auto;
    }
    .modal h2 {
      margin-top: 0;
      margin-bottom: 16px;
      font-size: 1.25rem;
      color: var(--primary-color);
    }
    .form-group,
    .link-group,
    .city-time-group {
      margin-bottom: 16px;
    }
    .form-group label,
    .link-group label,
    .city-time-group label {
      display: block;
      margin-bottom: 8px;
      font-size: 0.95rem;
      color: var(--text-color);
    }
    .form-group input,
    .link-group input,
    .city-time-group input,
    .city-time-group select {
      width: 100%;
      padding: 10px;
      border: 1px solid var(--border-color);
      border-radius: 4px;
      font-size: 0.95rem;
    }
    .modal-buttons {
      display: flex;
      gap: 12px;
      justify-content: flex-end;
      margin-top: 16px;
    }
    .modal-buttons button {
      padding: 10px 18px;
      border: none;
      border-radius: 4px;
      font-size: 0.95rem;
      cursor: pointer;
    }
    .modal-buttons button[type="button"] {
      background-color: #9e9e9e;
      color: #fff;
    }
    .modal-buttons button[type="submit"] {
      background-color: var(--primary-color);
      color: #fff;
    }
    
    /* Responsive adjustments */
    @media (max-width: 600px) {
      header {
        flex-direction: column;
        align-items: flex-start;
      }
      .date-section {
        align-self: stretch;
        text-align: left;
        margin-top: 12px;
      }
    }
  </style>
</head>
<body>
  <header>
    <div class="profile-section">
      <div class="profile-image-container">
        <!-- Improved placeholder image from a reliable source -->
        <img src="https://via.placeholder.com/64?text=Profile" alt="Profile" class="profile-image" id="profileImage">
        <button class="edit-overlay-btn" onclick="openModal()" aria-label="Edit Profile">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
            <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
          </svg>
        </button>
      </div>
      <div class="profile-info">
        <h1 id="profileName">John Doe</h1>
        <p id="profileTitle">Software Developer</p>
        <!-- Rendered links -->
        <div class="profile-links" id="profileLinks"></div>
      </div>
    </div>
    <div class="date-section">
      <span class="today-prefix">Today is</span>
      <span class="current-date" id="currentDate"></span>
      <div class="city-times" id="cityTimes"></div>
    </div>
  </header>
  
  <!-- Edit Modal -->
  <div class="modal-overlay" id="modalOverlay">
    <div class="modal">
      <h2>Edit Profile</h2>
      <form onsubmit="saveChanges(event)">
        <div class="form-group">
          <label for="imageInput">Profile Image:</label>
          <input type="file" id="imageInput" accept="image/*">
        </div>
        <div class="form-group">
          <label for="editName">Name:</label>
          <input type="text" id="editName" required>
        </div>
        <div class="form-group">
          <label for="editTitle">Title:</label>
          <input type="text" id="editTitle" required>
        </div>
        <!-- Links Section -->
        <h3 style="font-size:1rem; color: var(--primary-color); margin:0 0 8px;">Important Links</h3>
        <div class="link-group">
          <label for="linkName1">Link 1 Display Name:</label>
          <input type="text" id="linkName1" placeholder="e.g. Pendo">
          <label for="linkUrl1">Link 1 URL:</label>
          <input type="url" id="linkUrl1" placeholder="https://example.com">
        </div>
        <div class="link-group">
          <label for="linkName2">Link 2 Display Name:</label>
          <input type="text" id="linkName2" placeholder="e.g. GitHub">
          <label for="linkUrl2">Link 2 URL:</label>
          <input type="url" id="linkUrl2" placeholder="https://github.com">
        </div>
        <div class="link-group">
          <label for="linkName3">Link 3 Display Name:</label>
          <input type="text" id="linkName3" placeholder="e.g. LinkedIn">
          <label for="linkUrl3">Link 3 URL:</label>
          <input type="url" id="linkUrl3" placeholder="https://linkedin.com">
        </div>
        <div class="link-group">
          <label for="linkName4">Link 4 Display Name:</label>
          <input type="text" id="linkName4" placeholder="Optional">
          <label for="linkUrl4">Link 4 URL:</label>
          <input type="url" id="linkUrl4" placeholder="https://example.com">
        </div>
        <div class="link-group">
          <label for="linkName5">Link 5 Display Name:</label>
          <input type="text" id="linkName5" placeholder="Optional">
          <label for="linkUrl5">Link 5 URL:</label>
          <input type="url" id="linkUrl5" placeholder="https://example.com">
        </div>
        <!-- City Times Section -->
        <h3 style="font-size:1rem; color: var(--primary-color); margin:0 0 8px;">City Times</h3>
        <div class="city-time-group">
          <label for="city1Display">City 1 Display Name:</label>
          <input type="text" id="city1Display" placeholder="e.g. New York">
          <label for="city1TimeZoneInput">City 1 Time Zone:</label>
          <input type="text" id="city1TimeZoneInput" placeholder="Select a time zone" list="city1TimeZoneList">
          <datalist id="city1TimeZoneList"></datalist>
        </div>
        <div class="city-time-group">
          <label for="city2Display">City 2 Display Name:</label>
          <input type="text" id="city2Display" placeholder="e.g. London">
          <label for="city2TimeZoneInput">City 2 Time Zone:</label>
          <input type="text" id="city2TimeZoneInput" placeholder="Select a time zone" list="city2TimeZoneList">
          <datalist id="city2TimeZoneList"></datalist>
        </div>
        <div class="modal-buttons">
          <button type="button" onclick="closeModal()">Cancel</button>
          <button type="submit">Save</button>
        </div>
      </form>
    </div>
  </div>
  
  <script>
    // Global variables for city time settings
    let city1Display = "";
    let city1TimeZone = "";
    let city2Display = "";
    let city2TimeZone = "";
    
    // Update the date display
    function updateDate() {
      const dateElement = document.getElementById('currentDate');
      const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
      dateElement.textContent = new Date().toLocaleDateString('en-US', options);
    }
    
    // Update city times every second
    function updateCityTimes() {
      const container = document.getElementById('cityTimes');
      container.innerHTML = "";
      
      if (city1Display && city1TimeZone) {
        try {
          const time1 = new Date().toLocaleTimeString('en-US', { timeZone: city1TimeZone });
          const div1 = document.createElement('div');
          div1.textContent = city1Display + ": " + time1;
          container.appendChild(div1);
        } catch (e) {
          const div1 = document.createElement('div');
          div1.textContent = city1Display + ": Invalid Time Zone";
          container.appendChild(div1);
        }
      }
      
      if (city2Display && city2TimeZone) {
        try {
          const time2 = new Date().toLocaleTimeString('en-US', { timeZone: city2TimeZone });
          const div2 = document.createElement('div');
          div2.textContent = city2Display + ": " + time2;
          container.appendChild(div2);
        } catch (e) {
          const div2 = document.createElement('div');
          div2.textContent = city2Display + ": Invalid Time Zone";
          container.appendChild(div2);
        }
      }
    }
    
    // Populate a datalist element with all supported IANA time zones.
    function populateTimeZoneDatalist(datalistElement) {
      let timeZones = [];
      if (Intl.supportedValuesOf) {
        timeZones = Intl.supportedValuesOf('timeZone');
      } else {
        // Fallback list of common time zones if unsupported.
        timeZones = [
          "UTC",
          "America/New_York",
          "America/Chicago",
          "America/Denver",
          "America/Los_Angeles",
          "Europe/London",
          "Europe/Paris",
          "Europe/Berlin",
          "Asia/Tokyo",
          "Asia/Shanghai",
          "Asia/Kolkata",
          "Australia/Sydney"
        ];
      }
      datalistElement.innerHTML = "";
      timeZones.forEach(tz => {
        const option = document.createElement("option");
        option.value = tz;
        datalistElement.appendChild(option);
      });
    }
    
    // Open modal and prepopulate fields
    function openModal() {
      document.getElementById('modalOverlay').style.display = 'flex';
      document.getElementById('editName').value = document.getElementById('profileName').innerText;
      document.getElementById('editTitle').value = document.getElementById('profileTitle').innerText;
      
      // Prepopulate link fields
      const linksContainer = document.getElementById('profileLinks');
      const links = linksContainer.getElementsByTagName('a');
      for (let i = 0; i < 5; i++) {
        const nameField = document.getElementById('linkName' + (i + 1));
        const urlField = document.getElementById('linkUrl' + (i + 1));
        if (links[i]) {
          nameField.value = links[i].textContent;
          urlField.value = links[i].href;
        } else {
          nameField.value = "";
          urlField.value = "";
        }
      }
      
      // Prepopulate city time fields and datalists
      document.getElementById('city1Display').value = city1Display;
      document.getElementById('city2Display').value = city2Display;
      populateTimeZoneDatalist(document.getElementById('city1TimeZoneList'));
      populateTimeZoneDatalist(document.getElementById('city2TimeZoneList'));
      document.getElementById('city1TimeZoneInput').value = city1TimeZone;
      document.getElementById('city2TimeZoneInput').value = city2TimeZone;
    }
    
    function closeModal() {
      document.getElementById('modalOverlay').style.display = 'none';
    }
    
    // Save changes and update settings
    function saveChanges(e) {
      e.preventDefault();
      document.getElementById('profileName').innerText = document.getElementById('editName').value;
      document.getElementById('profileTitle').innerText = document.getElementById('editTitle').value;
      
      const fileInput = document.getElementById('imageInput');
      if (fileInput.files[0]) {
        const reader = new FileReader();
        reader.onload = function(e) {
          document.getElementById('profileImage').src = e.target.result;
        };
        reader.readAsDataURL(fileInput.files[0]);
      }
      
      // Update links
      const profileLinksContainer = document.getElementById('profileLinks');
      profileLinksContainer.innerHTML = "";
      for (let i = 1; i <= 5; i++) {
        const linkName = document.getElementById('linkName' + i).value.trim();
        const linkUrl = document.getElementById('linkUrl' + i).value.trim();
        if (linkName && linkUrl) {
          const a = document.createElement('a');
          a.textContent = linkName;
          a.href = linkUrl;
          a.target = "_blank";
          profileLinksContainer.appendChild(a);
        }
      }
      
      // Update city times settings
      city1Display = document.getElementById('city1Display').value.trim();
      city1TimeZone = document.getElementById('city1TimeZoneInput').value;
      city2Display = document.getElementById('city2Display').value.trim();
      city2TimeZone = document.getElementById('city2TimeZoneInput').value;
      
      closeModal();
    }
    
    updateDate();
    setInterval(updateDate, 86400000);
    setInterval(updateCityTimes, 1000);
  </script>
</body>
</html>
